const listTourInternational = [
    {
        img:"tour-overseas-1.webp",
        title:"Tour Campuchia 4N3Đ: Bokor - Shihanouk Ville - Kohrong - Phnôm Pênh",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Chủ nhật hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "4 ngày 3 đêm",
        price: 6000000,
        promotionalPrice: 3979000,
    },
    {
        img:"hanquoc4muahoa.jpg",
        title:"Du lịch Hàn Quốc - Hoa anh đào",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng tàu thủy",
                imgVehicle: "ship.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 7 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "4 ngày 3 đêm",
        price: 29000000,
        promotionalPrice: 23000000,
    },
    {
        img:"tour-overseas-2.webp",
        title:"Du thuyền 5 Sao Voyager Of The Seas",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng tàu thủy",
                imgVehicle: "ship.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 4 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "4 ngày 3 đêm",
        price: 25900000,
        promotionalPrice: 25900000,
    },
    {
        img:"tour-overseas-3.webp",
        title:"Du lịch Malaysia - Singapore [Thủy cung S.E.A AQUARIUM]",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng tàu thủy",
                imgVehicle: "ship.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 2 - 7 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "4 ngày 3 đêm",
        price: 12990000,
        promotionalPrice: 12990000,
    },
    {
        img:"tour-overseas-4.webp",
        title:"Du lịch Anh - Scotland [Lễ hội hoa Chelsea]",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 7 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "7 ngày 6 đêm",
        price: 89990000,
        promotionalPrice: 89990000,
    },
    {
        img:"last-minute-tour-1.webp",
        title:"Du lịch Ý [Rome - Pisa - Florence - Venice - Milan]",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 2 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "6 ngày 5 đêm",
        price: 46900000,
        promotionalPrice: 46900000,
    },
    {
        img:"last-minute-tour-2.webp",
        title:"Du lịch Nam Phi [Johannesburg - Pretoria - Soweto - Cape Town]",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 7 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "5 ngày 4 đêm",
        price: 75000000,
        promotionalPrice: 61990000,
    },
    {
        img:"tour-overseas-7.webp",
        title:"Du lịch Pháp - Bỉ - Hà Lan [Hội Hoa Tulip Keukenhof]",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng tàu thủy",
                imgVehicle: "ship.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 4 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "5 ngày 4 đêm",
        price: 55000000,
        promotionalPrice: 49900000,
    },
    {
        img:"tour-overseas-8.webp",
        title:"Du lịch Châu Âu Pháp - Thụy Sỹ - Núi Jungfrau - Ý",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng tàu thủy",
                imgVehicle: "ship.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 4 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "10 ngày 9 đêm",
        price: 85990000,
        promotionalPrice: 85990000,
    },
    {
        img:"tour-4.jpg",
        title:"Du lịch Úc Melbourne - Canberra - Sydney - Trải nghiệm trực thăng ngắm đảo Phillip",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 7 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "7 ngày 6 đêm",
        price: 63500000,
        promotionalPrice: 59990000,
    },
    {
        img:"tour-9.jpg",
        title:"Du lịch Canada - Cuba [vancouver - victoria - la habana - varadero]",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng tàu thủy",
                imgVehicle: "ship.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 2 - 5 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "10 ngày 9 đêm",
        price: 120000000,
        promotionalPrice: 99000000,
    },
    {
        img:"tour-overseas-8.webp",
        title:"Du lịch Châu Âu Pháp - Thụy Sỹ - Núi Jungfrau - Ý",
        vehicles: [
            {
                titleImg: "Di chuyển bằng Ô tô",
                imgVehicle: "coach.svg"
            },
            {
                titleImg: "Di chuyển bằng máy bay",
                imgVehicle: "plane.svg"
            },
        ],
        imgDS: "tag_icon_4.svg",
        departureSchedule: "Thứ 2 - 7 hằng tuần",
        imgTime: "tag_icon_5.svg",
        time: "4 ngày 3 đêm",
        price: 54000000,
        promotionalPrice: 49000000,
    },
]

const formatter = new Intl.NumberFormat('vi-VN', {
    style: 'currency',
    currency: 'VND',
});

function renderVehicle(vehicles) {
    let str = "";
    vehicles.forEach((item) => {
      str += `
        <li title="${item.titleImg}">
            <img src="image/${item.imgVehicle}" alt="${item.titleImg}">
        </li>
        `;
    });
    return str;
}

function initTour(list) {
    let str = "";
    list.forEach((item) => {
      str += `
      <div class="card-description4">
      <div class="last-minute-tour-item">
          <div class="img-tour">
              <a href="#">
                  <img src="image/${item.img}" alt="">
              </a>
          </div>
          <div class="info-tour">
              <h3>
                  <a href="#" title="${item.title}">${item.title}</a>
              </h3>
              <div class="vote-box">
                  <ul class="vehicle">
                      ${renderVehicle(item.vehicles)}
                  </ul>
                  <div class="saleoff">
                        ${formatter.format(item.price)}
                  </div>
              </div>
              <ul class="date-go">
                  <li>
                      <img src="image/${item.imgDS}" alt="">
                      Lịch khởi hành: <span>${item.departureSchedule}</span>
                  </li>
                  <li>
                      <img src="image/${item.imgTime}" alt="">
                      Thời gian: <span>${item.time}</span>
                  </li>
              </ul>
              <div class="action-box">
                  <div class="price-box">${formatter.format(item.promotionalPrice)}</div>
                  <a href="#">Đặt tour</a>
              </div>
          </div>
      </div>
  </div>
        `;
    });
    return str
}

const listTourInternationalElement3 = document.getElementById("list-tour-international");
listTourInternationalElement3.innerHTML = initTour(listTourInternational);
const btn1 = document.getElementById("btn-a-z");
btn1.addEventListener("click", function (event) {
    const result = _.sortBy(listTourInternational, function(item) {
    return item.title;
    })
    const listTourInternationalElement3 = document.getElementById("list-tour-international");
    listTourInternationalElement3.innerHTML = initTour(result);
});

const btn2 = document.getElementById("btn-z-a");
btn2.addEventListener("click", function (event) {
    const result = _.reverse(_.sortBy(listTourInternational, function(item) {
    return item.title;
    }))
    const listTourInternationalElement3 = document.getElementById("list-tour-international");
    listTourInternationalElement3.innerHTML = initTour(result);
});

const btn3 = document.getElementById("price-increase");
btn3.addEventListener("click", function (event) {
    const result = _.sortBy(listTourInternational, function(item) {
        return item.promotionalPrice;
    })
    const listTourInternationalElement3 = document.getElementById("list-tour-international");
    listTourInternationalElement3.innerHTML = initTour(result);
});

const btn4 = document.getElementById("reduced-price");
btn4.addEventListener("click", function (event) {
    const result = _.reverse(_.sortBy(listTourInternational, function(item) {
        return item.promotionalPrice;
    }))
    const listTourInternationalElement3 = document.getElementById("list-tour-international");
    listTourInternationalElement3.innerHTML = initTour(result);
});

const listBtn = document.getElementsByClassName("select-button");
function handleClick(event) {
    for (let i = 0; i < listBtn.length; i++) {
        listBtn[i].classList.remove('active');
    }
    event.target.classList.add('active');
}
for (let i = 0; i < listBtn.length; i++) {
    const element = listBtn[i];
    element.addEventListener("click", handleClick);
}